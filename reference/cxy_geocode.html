<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Batch Geocode Parsed Addresses — cxy_geocode • censusxy</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Batch Geocode Parsed Addresses — cxy_geocode"><meta property="og:description" content="Provides access to the US Census Bureau batch endpoints for locations and geographies.
The function implements iteration and optional parallelization in order to geocode datasets larger than the API limit of 10,000 and more efficiently than sending 10,000 per request.
It also supports multiple outputs, including SF class objects."><meta property="og:image" content="https://slu-openGIS.github.io/censusxy/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">censusxy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/censusxy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/slu-openGIS/censusxy/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Batch Geocode Parsed Addresses</h1>
    <small class="dont-index">Source: <a href="https://github.com/slu-openGIS/censusxy/blob/HEAD/R/batch.R" class="external-link"><code>R/batch.R</code></a></small>
    <div class="hidden name"><code>cxy_geocode.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Provides access to the US Census Bureau batch endpoints for locations and geographies.
The function implements iteration and optional parallelization in order to geocode datasets larger than the API limit of 10,000 and more efficiently than sending 10,000 per request.
It also supports multiple outputs, including SF class objects.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">cxy_geocode</span><span class="op">(</span>
  <span class="va">.data</span>,
  id <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">street</span>,
  city <span class="op">=</span> <span class="cn">NULL</span>,
  state <span class="op">=</span> <span class="cn">NULL</span>,
  zip <span class="op">=</span> <span class="cn">NULL</span>,
  return <span class="op">=</span> <span class="st">"locations"</span>,
  benchmark <span class="op">=</span> <span class="st">"Public_AR_Current"</span>,
  vintage <span class="op">=</span> <span class="cn">NULL</span>,
  timeout <span class="op">=</span> <span class="fl">30</span>,
  parallel <span class="op">=</span> <span class="fl">1</span>,
  class <span class="op">=</span> <span class="st">"dataframe"</span>,
  output <span class="op">=</span> <span class="st">"simple"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.data</dt>
<dd><p>data.frame containing columns with structured address data</p></dd>
<dt>id</dt>
<dd><p>Optional String - Name of column containing unique ID</p></dd>
<dt>street</dt>
<dd><p>String - Name of column containing street address</p></dd>
<dt>city</dt>
<dd><p>Optional String - Name of column containing city</p></dd>
<dt>state</dt>
<dd><p>Optional String - Name of column containing state</p></dd>
<dt>zip</dt>
<dd><p>Optional String - Name of column containing zip code</p></dd>
<dt>return</dt>
<dd><p>One of 'locations' or 'geographies' denoting returned information from the API</p></dd>
<dt>benchmark</dt>
<dd><p>Optional Census Benchmark to geocode against. See Details.</p></dd>
<dt>vintage</dt>
<dd><p>Optional Census Vintage to geocode against. See Details.</p></dd>
<dt>timeout</dt>
<dd><p>Numeric, in minutes, how long until request times out</p></dd>
<dt>parallel</dt>
<dd><p>Integer, number of cores greater than one if parallel requests are desired. See Details.</p></dd>
<dt>class</dt>
<dd><p>One of 'dataframe' or 'sf' denoting the output class. 'sf' will only return matched addresses.</p></dd>
<dt>output</dt>
<dd><p>One of 'simple' or 'full' denoting the returned columns. Simple returns just coordinates.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data.frame or sf object containing geocoded results</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Parallel requests are supported across platforms. If supported (POSIX platforms) the process is forked, otherwise a SOCK cluster is used (Windows).
You may not specify more cores than the system reports are available
If you do, the maximum number of available cores will be used.</p>
<p>To obtain current valid benchmarks, use the <code><a href="cxy_benchmarks.html">cxy_benchmarks()</a></code> function</p>
<p>If you want to append census geographies, you must specify a valid vintage for your benchmark. You may use the <code><a href="cxy_vintages.html">cxy_vintages()</a></code> function to obtain valid Vintages.
 See <code><a href="../articles/censusxy.html">vignette('censusxy')</a></code> for a full walkthrough.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># load data</span></span>
<span class="r-in"><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">stl_homicides</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># geocode</span></span>
<span class="r-in"><span class="fu">cxy_geocode</span><span class="op">(</span><span class="va">x</span>, street <span class="op">=</span> <span class="st">'street_address'</span>, city <span class="op">=</span> <span class="st">'city'</span>, state <span class="op">=</span> <span class="st">'state'</span>, zip <span class="op">=</span> <span class="st">'postal_code'</span>,</span>
<span class="r-in">   return <span class="op">=</span> <span class="st">'locations'</span>, class <span class="op">=</span> <span class="st">'dataframe'</span>, output <span class="op">=</span> <span class="st">'simple'</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required namespace: sf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              street_address year             date state postal_code      city</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9            5738 Terry Ave 2008 01/12/2008 12:37    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7            5356 Page Blvd 2008 01/17/2008 04:00    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        5826 Roosevelt Pl 2008 01/20/2008 21:19    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             3859 Ohio Ave 2008 01/21/2008 17:38    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      4100 Saint Louis Ave 2008 01/30/2008 15:34    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         2418 N Euclid Ave 2008 01/30/2008 19:19    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            1646 S 39th St 2008 02/04/2008 17:45    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          5617 Enright Ave 2008 02/09/2008 17:30    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  5001 N Kingshighway Blvd 2008 02/09/2008 22:59    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1500 Cass Ave 2008 02/11/2008 21:50    MO          NA St. Louis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      cxy_lon  cxy_lat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  -90.27411 38.67785</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  -90.27331 38.66157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 -90.27592 38.67959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  -90.22941 38.58544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  -90.23151 38.66029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  -90.25564 38.66613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  -90.24488 38.61817</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  -90.28238 38.65493</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  -90.24467 38.68689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  -90.19742 38.64184</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://chris-prener.github.io" class="external-link">Christopher Prener</a>, <a href="https://bransonf.com" class="external-link">Branson Fox</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

